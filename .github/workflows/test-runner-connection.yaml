name: Test Runner Connection

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: self-hosted
    steps:
    - name: Test Connection
      run: |
        echo "âœ… Runner is connected!"
        echo "Host: $(hostname)"
        echo "Directory: $(pwd)"
        echo "Kubernetes: $(kubectl cluster-info --short 2>/dev/null || echo 'Not configured')"
        
    - name: Check Environment
      run: |
        echo "ğŸ”§ Environment Check:"
        echo "Docker: $(docker --version)"
        echo "Kubectl: $(kubectl version --short 2>/dev/null || echo 'Not available')"
        echo "Git: $(git --version)"
        
    - name: Simple Kubernetes Test
      run: |
        echo "ğŸ” Testing Kubernetes access..."
        kubectl get nodes && echo "âœ… Kubernetes access working!" || echo "âš ï¸ Kubernetes access issue"
